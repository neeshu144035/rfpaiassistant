import{r as h,a as F,R as E}from"./vendor-8a332d8f.js";import{E as A}from"./pdf-e78a3fe8.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function d(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=d(i);fetch(i.href,o)}})();var R={exports:{}},b={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S=h,D=Symbol.for("react.element"),I=Symbol.for("react.fragment"),M=Object.prototype.hasOwnProperty,O=S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$={key:!0,ref:!0,__self:!0,__source:!0};function _(t,s,d){var a,i={},o=null,c=null;d!==void 0&&(o=""+d),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(c=s.ref);for(a in s)M.call(s,a)&&!$.hasOwnProperty(a)&&(i[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return{$$typeof:D,type:t,key:o,ref:c,props:i,_owner:O.current}}b.Fragment=I;b.jsx=_;b.jsxs=_;R.exports=b;var e=R.exports,w={},C=F;w.createRoot=C.createRoot,w.hydrateRoot=C.hydrateRoot;var z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v=(t,s)=>{const d=h.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:c,children:r,...n},l)=>h.createElement("svg",{ref:l,...z,width:i,height:i,stroke:a,strokeWidth:c?Number(o)*24/Number(i):o,className:`lucide lucide-${T(t)}`,...n},[...s.map(([p,u])=>h.createElement(p,u)),...(Array.isArray(r)?r:[r])||[]]));return d.displayName=`${t}`,d},j=v("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),g=v("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),L=v("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),B=v("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),U=v("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const q=({onFileUpload:t,uploadedFile:s})=>{const d=h.useRef(null),a=r=>{r.preventDefault()},i=r=>{r.preventDefault(),r.dataTransfer.files&&r.dataTransfer.files[0]&&t(r.dataTransfer.files[0])},o=r=>{r.target.files&&r.target.files[0]&&t(r.target.files[0])},c=r=>{if(r===0)return"0 Bytes";const n=1024,l=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(r)/Math.log(n));return parseFloat((r/Math.pow(n,p)).toFixed(2))+" "+l[p]};return e.jsxs("div",{className:"file-upload",children:[e.jsx("h2",{children:"Upload RFP Document"}),s?e.jsxs("div",{className:"file-preview",children:[e.jsxs("div",{className:"file-info",children:[e.jsx("p",{className:"file-name",children:s.name}),e.jsx("p",{className:"file-size",children:c(s.size)})]}),e.jsx("button",{className:"remove-file-btn",onClick:()=>t(null),children:"Remove"})]}):e.jsxs("div",{className:"drop-zone",onDragOver:a,onDrop:i,onClick:()=>d.current.click(),children:[e.jsx(U,{size:48,className:"upload-icon"}),e.jsx("p",{children:"Drag & drop your PDF file here"}),e.jsx("p",{className:"or-text",children:"or"}),e.jsx("button",{className:"browse-btn",children:"Browse Files"}),e.jsx("p",{className:"file-info-text",children:"PDF files only, maximum 10MB"}),e.jsx("input",{type:"file",ref:d,onChange:o,accept:".pdf",style:{display:"none"}})]})]})};const K=({clientEmail:t,setClientEmail:s})=>e.jsxs("div",{className:"client-info",children:[e.jsx("h2",{children:"Contact Information"}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx(B,{size:20,className:"input-icon"}),e.jsx("input",{type:"email",id:"email",value:t,onChange:d=>s(d.target.value),placeholder:"Enter your email address",required:!0})]})]})]});const G=()=>e.jsxs("div",{className:"processing-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("h2",{children:"Processing your RFP..."}),e.jsx("p",{children:"This may take up to 60 seconds"})]});const H=({digest:t})=>{const[s,d]=h.useState(!0),i=(r=>{if(!r)return{};const n={},l=r.match(/targeting.*?across\s+([^,]+(?:,\s*[^,]+)*?)\s+primarily/i);l&&(n.markets=l[1]);const p=r.match(/languages include\s+([^,.]+)/i);p&&(n.languages=p[1]);const u=r.match(/KPIs include\s+([^,.]+(?:,\s*[^,.]+)*?)(?=\.)/i);u&&(n.kpis=u[1]);const y=r.match(/Total budget is\s+([^\s]+)/i);y&&(n.budget=y[1]);const N=r.match(/Campaign runs from\s+([^,]+(?:,\s*[^,]+)*?)(?=, with)/i);N&&(n.timeline=N[1]);const x=r.match(/deliverables of\s+([^,.]+(?:,\s*[^,.]+)*?)(?=\.)/i);x&&(n.deliverables=x[1]);const m=r.match(/Compliance with\s+([^,.]+(?:,\s*[^,.]+)*?)(?=\.)/i);return m&&(n.compliance=m[1]),n.summary=r,n})(t.summary),o=r=>({summary:"Summary",markets:"Markets",languages:"Languages",kpis:"KPIs",budget:"Budget",timeline:"Timeline",deliverables:"Deliverables",compliance:"Compliance"})[r]||r.charAt(0).toUpperCase()+r.slice(1),c=["budget","kpis"];return e.jsxs("div",{className:"rfp-digest-card",children:[e.jsxs("div",{className:"card-header",onClick:()=>d(!s),children:[e.jsx("h2",{children:"RFP Digest"}),s?e.jsx(g,{size:24}):e.jsx(j,{size:24})]}),s&&e.jsx("div",{className:"card-content",children:e.jsx("div",{className:"digest-grid",children:Object.entries(i).map(([r,n])=>e.jsxs("div",{className:`digest-item ${c.includes(r)?"highlight":""}`,children:[e.jsxs("span",{className:"field-name",children:[o(r),":"]}),e.jsx("span",{className:"field-value",children:n})]},r))})})]})};const W=({influencers:t})=>{const[s,d]=h.useState({key:null,direction:"asc"}),a=n=>{let l="asc";s.key===n&&s.direction==="asc"&&(l="desc"),d({key:n,direction:l})},c=[...(n=>n.map(l=>({handle:l.handle,tier:l.tier,followers:l.followers||"N/A",engagement:l.engagement_rate||"N/A",notes:l.fit_rationale||l.notes||""})))(t)];s.key&&c.sort((n,l)=>n[s.key]<l[s.key]?s.direction==="asc"?-1:1:n[s.key]>l[s.key]?s.direction==="asc"?1:-1:0);const r=n=>n.includes("macro")||n.includes("Macro")?"tier-macro":n.includes("mid")||n.includes("Mid")?"tier-mid":n.includes("micro")||n.includes("Micro")?"tier-micro":"";return e.jsxs("div",{className:"influencer-table-container",children:[e.jsx("h2",{children:"Influencer Shortlist"}),e.jsx("div",{className:"table-wrapper",children:e.jsxs("table",{className:"influencer-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>a("handle"),children:["Handle",s.key==="handle"&&e.jsx("span",{children:s.direction==="asc"?" ↑":" ↓"})]}),e.jsxs("th",{onClick:()=>a("tier"),children:["Tier",s.key==="tier"&&e.jsx("span",{children:s.direction==="asc"?" ↑":" ↓"})]}),e.jsxs("th",{onClick:()=>a("followers"),children:["Followers",s.key==="followers"&&e.jsx("span",{children:s.direction==="asc"?" ↑":" ↓"})]}),e.jsxs("th",{onClick:()=>a("engagement"),children:["Engagement",s.key==="engagement"&&e.jsx("span",{children:s.direction==="asc"?" ↑":" ↓"})]}),e.jsx("th",{children:"Fit Rationale"})]})}),e.jsx("tbody",{children:c.map((n,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:n.handle}),e.jsx("td",{children:e.jsx("span",{className:`tier-badge ${r(n.tier)}`,children:n.tier})}),e.jsx("td",{children:n.followers}),e.jsx("td",{children:n.engagement}),e.jsx("td",{className:"notes-cell",children:n.notes})]},l))})]})})]})};const V=({packageData:t})=>{var i,o,c;const[s,d]=h.useState({roles:!0,metrics:!0,creative:!0,budget:!0}),a=r=>{d(n=>({...n,[r]:!n[r]}))};return e.jsxs("div",{className:"proposal-package",children:[e.jsx("h2",{children:"Draft Proposal Package"}),e.jsxs("div",{className:"package-section",children:[e.jsxs("div",{className:"section-header",onClick:()=>a("roles"),children:[e.jsx("h3",{children:"Recommended Influencers with Roles"}),s.roles?e.jsx(g,{size:20}):e.jsx(j,{size:20})]}),s.roles&&e.jsx("div",{className:"section-content",children:t.recommended_roles&&t.recommended_roles.map((r,n)=>e.jsxs("p",{children:[r.handle," - ",r.role]},n))})]}),e.jsxs("div",{className:"package-section",children:[e.jsxs("div",{className:"section-header",onClick:()=>a("metrics"),children:[e.jsx("h3",{children:"Expected Metrics"}),s.metrics?e.jsx(g,{size:20}):e.jsx(j,{size:20})]}),s.metrics&&e.jsxs("div",{className:"section-content",children:[e.jsxs("p",{children:["Impressions: ",((i=t.expected_metrics)==null?void 0:i.impressions)||"N/A"]}),e.jsxs("p",{children:["Engagement Rate: ",((o=t.expected_metrics)==null?void 0:o.engagement_rate)||"N/A"]}),e.jsxs("p",{children:["Clicks: ",((c=t.expected_metrics)==null?void 0:c.clicks)||"N/A"]})]})]}),e.jsxs("div",{className:"package-section",children:[e.jsxs("div",{className:"section-header",onClick:()=>a("creative"),children:[e.jsx("h3",{children:"Creative Angles"}),s.creative?e.jsx(g,{size:20}):e.jsx(j,{size:20})]}),s.creative&&e.jsx("div",{className:"section-content",children:t.creative_angles||t.creativeAngles?(t.creative_angles||t.creativeAngles).map((r,n)=>e.jsx("p",{children:r},n)):e.jsx("p",{children:"No creative angles provided"})})]}),e.jsxs("div",{className:"package-section",children:[e.jsxs("div",{className:"section-header",onClick:()=>a("budget"),children:[e.jsx("h3",{children:"Budget Allocation Options"}),s.budget?e.jsx(g,{size:20}):e.jsx(j,{size:20})]}),s.budget&&e.jsx("div",{className:"section-content budget-options",children:t.budget_options&&t.budget_options.map((r,n)=>e.jsxs("div",{className:"budget-option",children:[e.jsxs("h4",{children:["Option ",r.option]}),e.jsx("p",{children:r.description}),e.jsx("p",{children:e.jsxs("strong",{children:["Total: ",r.total]})})]},n))})]})]})};const Y=({components:t})=>e.jsxs("div",{className:"deck-components",children:[e.jsx("h2",{children:"Client-Ready Deck Components"}),t.executive_summary&&e.jsxs("div",{className:"deck-section executive-summary",children:[e.jsx("h3",{children:"Executive Summary"}),e.jsx("div",{className:"summary-content",children:e.jsxs("p",{children:['"',t.executive_summary,'"']})})]}),t.creator_cards&&t.creator_cards.length>0&&e.jsxs("div",{className:"deck-section",children:[e.jsx("h3",{children:"Creator Cards"}),e.jsx("div",{className:"creator-cards",children:t.creator_cards.map((s,d)=>e.jsxs("div",{className:"creator-card",children:[e.jsx("h4",{children:s.handle}),e.jsxs("p",{children:["Platform: ",s.platform||"N/A"]}),e.jsxs("p",{children:["Followers: ",s.followers||"N/A"]}),e.jsxs("p",{children:["Engagement Rate: ",s.engagement_rate||"N/A"]})]},d))})]}),t.timeline&&e.jsxs("div",{className:"deck-section",children:[e.jsx("h3",{children:"Timeline"}),e.jsx("div",{className:"timeline",children:e.jsx("p",{children:t.timeline})})]}),t.measurement_plan&&e.jsxs("div",{className:"deck-section",children:[e.jsx("h3",{children:"Measurement Plan"}),e.jsx("div",{className:"measurement-plan",children:e.jsx("p",{children:t.measurement_plan})})]})]});const J=({results:t,onReset:s,clientEmail:d})=>{const[a,i]=h.useState(!1),o=async()=>{i(!0);try{const c=new A;c.setFontSize(22),c.setTextColor(0,123,255),c.text("EchoVibe Agency Proposal",20,20),c.setFontSize(16),c.setTextColor(0,0,0),c.text(`Proposal for ${d}`,20,40),c.text(`Date: ${new Date().toLocaleDateString()}`,20,50),c.save(`echovibe-proposal-${new Date().toISOString().slice(0,10)}.pdf`)}catch(c){console.error("Error generating PDF:",c)}finally{i(!1)}};return e.jsxs("div",{className:"results-display",children:[e.jsxs("div",{className:"results-header",children:[e.jsx("h1",{children:"RFP Analysis Results"}),e.jsxs("button",{className:"download-btn",onClick:o,disabled:a,children:[e.jsx(L,{size:20}),a?"Generating...":"Download Proposal PDF"]})]}),e.jsxs("div",{className:"results-content",children:[t.rfp_digest&&e.jsx(H,{digest:t.rfp_digest}),t.influencer_shortlist&&t.influencer_shortlist.length>0&&e.jsx(W,{influencers:t.influencer_shortlist}),t.proposal_package&&e.jsx(V,{packageData:t.proposal_package}),t.client_deck_components&&e.jsx(Y,{components:t.client_deck_components})]}),e.jsx("div",{className:"results-actions",children:e.jsx("button",{className:"reset-btn",onClick:s,children:"Process Another RFP"})})]})};const Z=()=>{const[t,s]=h.useState(null),[d,a]=h.useState(""),[i,o]=h.useState(!1),[c,r]=h.useState(null),[n,l]=h.useState(null),p=x=>{if(x.type!=="application/pdf"){l("Please upload a valid PDF file.");return}if(x.size>10*1024*1024){l("File size exceeds 10MB limit.");return}s(x),l(null)},u=async()=>{if(!t){l("Please upload a PDF file.");return}if(!d){l("Please enter your email address.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)){l("Please enter a valid email address.");return}o(!0),l(null);try{const m=new FormData;m.append("file",t),m.append("email",d),m.append("timestamp",new Date().toISOString());const k=await fetch("https://n8n.srv1020266.hstgr.cloud/webhook/4ef0c32e-879c-4d0f-9b38-0edebfb78ddb",{method:"POST",body:m,signal:AbortSignal.timeout(9e4)});if(!k.ok)throw new Error(`Webhook request failed with status ${k.status}`);const f=await k.json();if(console.log("=== WEBHOOK RESPONSE ==="),console.log("Full response:",f),console.log("Response type:",Array.isArray(f)?"array":typeof f),Array.isArray(f)&&f.length>0){const P=f[0];console.log("Extracted data:",P),r(P)}else throw new Error("Invalid response format from webhook")}catch(m){console.error("Error processing RFP:",m),m.name==="AbortError"?l("Request timed out. Please try again."):l(`Error processing RFP: ${m.message}`)}finally{o(!1)}},y=()=>{s(null),a(""),r(null),l(null)},N=()=>{l(null),u()};return e.jsxs("div",{className:"app",children:[e.jsxs("header",{className:"app-header",children:[e.jsx("h1",{children:"EchoVibe Agency - AI RFP Assistant"}),e.jsx("p",{children:"Upload your RFP and receive a beautifully formatted proposal"})]}),e.jsx("main",{className:"app-main",children:i?e.jsx(G,{}):c?e.jsx(J,{results:c,onReset:y,clientEmail:d}):e.jsxs("div",{className:"form-container",children:[e.jsx(q,{onFileUpload:p,uploadedFile:t}),e.jsx(K,{clientEmail:d,setClientEmail:a}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"submit-btn",onClick:u,disabled:!t||!d,children:"Process RFP"}),n&&e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:n}),e.jsx("button",{onClick:N,className:"retry-btn",children:"Try Again"})]})]})]})}),e.jsx("footer",{className:"app-footer",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," EchoVibe Agency. All rights reserved."]})})]})};w.createRoot(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:e.jsx(Z,{})}));
